# Replace app.example.com and api.example.com with your domains

app.example.com {
  root * /var/www/pulse
  file_server
  # Optionally, enforce security headers
  header {
    Strict-Transport-Security "max-age=31536000; includeSubDomains; preload"
    X-Content-Type-Options nosniff
    X-Frame-Options DENY
    Referrer-Policy no-referrer-when-downgrade
    Permissions-Policy geolocation=(), microphone=(), camera=()
  }
}

api.example.com {
  @api path /api/*
  reverse_proxy @api http://localhost:8086 {
    header_up Host {host}
    header_up X-Forwarded-Proto https
  }
}
